const _0x27605c=_0x51ce;(function(_0x1954d6,_0x1d2184){const _0x3b07f3=_0x51ce,_0x1649cc=_0x1954d6();while(!![]){try{const _0x5dad=parseInt(_0x3b07f3(0xc8))/0x1*(parseInt(_0x3b07f3(0xf5))/0x2)+parseInt(_0x3b07f3(0xe3))/0x3+-parseInt(_0x3b07f3(0xec))/0x4*(-parseInt(_0x3b07f3(0xe9))/0x5)+parseInt(_0x3b07f3(0xdc))/0x6*(-parseInt(_0x3b07f3(0xeb))/0x7)+-parseInt(_0x3b07f3(0xfd))/0x8+-parseInt(_0x3b07f3(0x103))/0x9*(parseInt(_0x3b07f3(0xee))/0xa)+parseInt(_0x3b07f3(0xca))/0xb*(-parseInt(_0x3b07f3(0xfe))/0xc);if(_0x5dad===_0x1d2184)break;else _0x1649cc['push'](_0x1649cc['shift']());}catch(_0x586635){_0x1649cc['push'](_0x1649cc['shift']());}}}(_0x2151,0x4db67));let API_KEY='';const API_BASE_URL='https://u23z4zsda8.execute-api.ap-southeast-1.amazonaws.com/Prod/sdk-management/api',EVENT_BASE_URL='/event',EVENT_RECORD_EVENT_URL=_0x27605c(0xe1);let config={'API_KEY':'','customer':'','debugLevel':0x0,'events':{},'operatingSystem':'','osVersion':'','Platform':''};function _0x2151(){const _0x4a6049=['ALL','openWindow','279PxIIwE','ERROR','options','INFO','Error\x20in\x20push\x20event','action','close','click','notificationclose','Notification\x20close\x20event\x20received:\x20','107814GvtyGV','error','22IlyOYA','eventProperty','Message\x20event\x20received:\x20','notification','stringify','registration','/v2','startsWith','message','NONE','addEventListener','install','action1','json','url','waitUntil','push','Recording\x20event:\x20','678mOMgDq','http://','operating-system','Web\x20Push\x20Notification\x20Viewed','debugLevel','/record-event','INFO:\x20','1835286mtTVmo','campaignCustomerInstanceId','POST','ERROR:\x20','Web\x20Push\x20Notification\x20Clicked','operatingSystem','35QtEeRd','view','3367ndEEiv','122724BRFNfn','Notification\x20click\x20event\x20received:\x20','59960ApUxUF','toISOString','Push\x20event\x20data\x20received:\x20','events','showNotification','customer','os-version','4mzxeqD','info','Error\x20in\x20recording\x20event','Web\x20Push\x20Notification\x20Closed','focus','Platform','then','Recording\x20event\x20config:\x20','656600DeNDgR','2409252syzKij','data','window'];_0x2151=function(){return _0x4a6049;};return _0x2151();}function _0x51ce(_0x3a733c,_0x5cdc55){const _0x215101=_0x2151();return _0x51ce=function(_0x51cecb,_0x225033){_0x51cecb=_0x51cecb-0xc0;let _0x1fd60c=_0x215101[_0x51cecb];return _0x1fd60c;},_0x51ce(_0x3a733c,_0x5cdc55);}const LOG_LEVEL={'ALL':0x3,'ERROR':0x2,'INFO':0x1,'NONE':0x0},logDebug=(_0x173ad9,_0x87f38a)=>{const _0x17563e=_0x27605c;if(config[_0x17563e(0xe0)]===LOG_LEVEL[_0x17563e(0xd3)])return;if(config[_0x17563e(0xe0)]<=LOG_LEVEL[_0x17563e(0x101)]){if(_0x173ad9===LOG_LEVEL[_0x17563e(0xc1)])console[_0x17563e(0xf6)](_0x17563e(0xe2)+new Date()[_0x17563e(0xef)](),_0x87f38a);else _0x173ad9===LOG_LEVEL[_0x17563e(0x104)]&&console[_0x17563e(0xc9)](_0x17563e(0xe6)+new Date()[_0x17563e(0xef)](),_0x87f38a);}},toFullPath=_0x480385=>{const _0x407dfb=_0x27605c;if(!_0x480385[_0x407dfb(0xd1)](_0x407dfb(0xdd))&&!_0x480385[_0x407dfb(0xd1)]('https://'))return'http://'+_0x480385;return _0x480385;},recordEvent=({campaignCustomerInstanceId:_0x5d23a2,eventName:_0x28b92a,name:_0x480f6e})=>{const _0x14b07b=_0x27605c,_0xe27da7={'customerId':config[_0x14b07b(0xf3)],'events':[{'campaignCustomerInstanceId':_0x5d23a2,'eventId':config[_0x14b07b(0xf1)][_0x28b92a]?.['id']||'','eventProperties':[{'eventPropertyId':config[_0x14b07b(0xf1)][_0x28b92a]?.['eventProperty']?.[_0x14b07b(0xfa)]?.['id'],'value':config[_0x14b07b(0xfa)]},{'eventPropertyId':config['events'][_0x28b92a]?.[_0x14b07b(0xcb)]?.[_0x14b07b(0xde)]?.['id'],'value':config[_0x14b07b(0xe8)]},{'eventPropertyId':config[_0x14b07b(0xf1)][_0x28b92a]?.[_0x14b07b(0xcb)]?.[_0x14b07b(0xf4)]?.['id'],'value':config['osVersion']}],'name':_0x480f6e,'sessionId':'abcd'}]};try{fetch(API_BASE_URL+_0x14b07b(0xd0)+EVENT_BASE_URL+EVENT_RECORD_EVENT_URL,{'body':JSON[_0x14b07b(0xce)](_0xe27da7),'headers':{'Authorization':_0x56b951,'Content-Type':'application/json'},'method':_0x14b07b(0xe5)});}catch(_0x242a81){logDebug(LOG_LEVEL[_0x14b07b(0x104)],_0x242a81?.[_0x14b07b(0xd2)]||_0x14b07b(0xf7));}const {API_KEY:_0x56b951,events:_0x29b0d0,..._0xe6249}=config;logDebug(LOG_LEVEL[_0x14b07b(0xc1)],_0x14b07b(0xfc)+_0xe6249),logDebug(LOG_LEVEL[_0x14b07b(0xc1)],_0x14b07b(0xdb)+_0xe27da7);};self[_0x27605c(0xd4)](_0x27605c(0xd2),_0x34a105=>{const _0x7a7693=_0x27605c;try{const _0x19e705=_0x34a105[_0x7a7693(0xff)]?JSON['parse'](_0x34a105[_0x7a7693(0xff)]):null;_0x19e705&&(config={...config,..._0x19e705});if(_0x19e705[_0x7a7693(0xf1)]){const {API_KEY:_0x112fcc,events:_0x331191,..._0x33f6e2}=_0x19e705;logDebug(LOG_LEVEL['INFO'],'Message\x20event\x20received:\x20'+JSON[_0x7a7693(0xce)](_0x33f6e2));}else logDebug(LOG_LEVEL['INFO'],_0x7a7693(0xcc)+JSON[_0x7a7693(0xce)](_0x19e705));const {API_KEY:_0x58a66c,events:_0x553773,..._0x3fa6f7}=config;logDebug(LOG_LEVEL[_0x7a7693(0xc1)],'Message\x20event\x20config:\x20'+JSON[_0x7a7693(0xce)](_0x3fa6f7));}catch(_0xff2cfd){logDebug(LOG_LEVEL[_0x7a7693(0x104)],_0xff2cfd?.[_0x7a7693(0xd2)]||'Error\x20in\x20message\x20event');}}),self['addEventListener'](_0x27605c(0xda),async function(_0x20ee8a){const _0x673cbb=_0x27605c;try{if(_0x20ee8a[_0x673cbb(0xff)]){const _0x2cb182=_0x20ee8a['data'][_0x673cbb(0xd7)]();logDebug(LOG_LEVEL[_0x673cbb(0xc1)],_0x673cbb(0xf0)+JSON[_0x673cbb(0xce)](_0x20ee8a[_0x673cbb(0xff)])),_0x20ee8a[_0x673cbb(0xd9)](self[_0x673cbb(0xcf)][_0x673cbb(0xf2)](_0x2cb182['title'],_0x2cb182['options'])),recordEvent({'campaignCustomerInstanceId':_0x2cb182[_0x673cbb(0xc0)][_0x673cbb(0xff)][_0x673cbb(0xe4)]||'','eventName':_0x673cbb(0xdf),'name':_0x673cbb(0xea)});}}catch(_0x4d3c06){logDebug(LOG_LEVEL['ERROR'],_0x4d3c06?.[_0x673cbb(0xd2)]||_0x673cbb(0xc2));}}),self[_0x27605c(0xd4)]('notificationclick',function(_0x53fb10){const _0xd80afd=_0x27605c;try{logDebug(LOG_LEVEL[_0xd80afd(0xc1)],_0xd80afd(0xed)+JSON['stringify'](_0x53fb10?.['notification'])),_0x53fb10[_0xd80afd(0xcd)][_0xd80afd(0xc4)]();if(_0x53fb10['action']===_0xd80afd(0xd6)){}else{if(_0x53fb10[_0xd80afd(0xc3)]==='action2'){}else{var _0x3513df=_0x53fb10['notification'][_0xd80afd(0xff)][_0xd80afd(0xd8)];_0x53fb10['waitUntil'](clients['matchAll']({'includeUncontrolled':!![],'type':_0xd80afd(0x100)})[_0xd80afd(0xfb)](function(_0x1ab9f9){const _0x3c1f4a=_0xd80afd;var _0x488582=null;for(var _0x47dc32=0x0;_0x47dc32<_0x1ab9f9['length'];_0x47dc32++){var _0x2ee220=_0x1ab9f9[_0x47dc32];if(_0x2ee220[_0x3c1f4a(0xd8)]===_0x3513df){_0x488582=_0x2ee220;break;}}return _0x488582?_0x488582[_0x3c1f4a(0xf9)]():clients[_0x3c1f4a(0x102)](toFullPath(_0x3513df));})),recordEvent({'campaignCustomerInstanceId':_0x53fb10['notification'][_0xd80afd(0xff)]['campaignCustomerInstanceId']||'','eventName':_0xd80afd(0xe7),'name':_0xd80afd(0xc5)});}}}catch(_0x396e61){logDebug(LOG_LEVEL[_0xd80afd(0x104)],_0x396e61?.[_0xd80afd(0xd2)]||'Error\x20in\x20notification\x20click\x20event');}}),self['addEventListener'](_0x27605c(0xc6),function(_0x591a79){const _0x2bf3fb=_0x27605c;try{logDebug(LOG_LEVEL[_0x2bf3fb(0xc1)],_0x2bf3fb(0xc7)+JSON[_0x2bf3fb(0xce)](_0x591a79?.[_0x2bf3fb(0xcd)])),recordEvent({'campaignCustomerInstanceId':_0x591a79['notification']['data'][_0x2bf3fb(0xe4)]||'','eventName':_0x2bf3fb(0xf8),'name':_0x2bf3fb(0xc4)});}catch(_0x15fbf1){logDebug(LOG_LEVEL[_0x2bf3fb(0x104)],_0x15fbf1?.[_0x2bf3fb(0xd2)]||'Error\x20in\x20notification\x20close\x20event');}}),self[_0x27605c(0xd4)](_0x27605c(0xd5),function(_0x36de8e){const _0x4c8a47=_0x27605c;_0x36de8e[_0x4c8a47(0xd9)](self['skipWaiting']());});